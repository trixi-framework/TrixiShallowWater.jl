<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Style guide ¬∑ TrixiShallowWater.jl</title><meta name="title" content="Style guide ¬∑ TrixiShallowWater.jl"/><meta property="og:title" content="Style guide ¬∑ TrixiShallowWater.jl"/><meta property="twitter:title" content="Style guide ¬∑ TrixiShallowWater.jl"/><meta name="description" content="Documentation for TrixiShallowWater.jl."/><meta property="og:description" content="Documentation for TrixiShallowWater.jl."/><meta property="twitter:description" content="Documentation for TrixiShallowWater.jl."/><meta property="og:url" content="https://trixi-framework.github.io/TrixiShallowWater.jl/styleguide/"/><meta property="twitter:url" content="https://trixi-framework.github.io/TrixiShallowWater.jl/styleguide/"/><link rel="canonical" href="https://trixi-framework.github.io/TrixiShallowWater.jl/styleguide/"/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">TrixiShallowWater.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../installation/">Installation</a></li><li><span class="tocitem">Tutorials</span><ul><li><a class="tocitem" href="../tutorials/introduction/">Introduction</a></li><li><a class="tocitem" href="../tutorials/elixir_shallowwater_dam_break_triangular/">Dam break over triangular bottom topograhy</a></li><li><a class="tocitem" href="../tutorials/elixir_shallowwater_monai_tsunami/">Okushiri tsunami</a></li></ul></li><li><span class="tocitem">Advanced topics &amp; developers</span><ul><li><a class="tocitem" href="../development/">Development</a></li><li class="is-active"><a class="tocitem" href>Style guide</a><ul class="internal"><li><a class="tocitem" href="#Conventions"><span>Conventions</span></a></li><li><a class="tocitem" href="#automated-source-code-formatting"><span>Automated source code formatting</span></a></li></ul></li><li><a class="tocitem" href="../testing/">Testing</a></li></ul></li><li><a class="tocitem" href="../changelog/">Changelog</a></li><li><a class="tocitem" href="../authors/">Authors</a></li><li><a class="tocitem" href="../contributing/">Contributing</a></li><li><a class="tocitem" href="../code_of_conduct/">Code of Conduct</a></li><li><a class="tocitem" href="../license/">License</a></li><li><a class="tocitem" href="../reference/">Reference</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Advanced topics &amp; developers</a></li><li class="is-active"><a href>Style guide</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Style guide</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/trixi-framework/TrixiShallowWater.jl/blob/main/docs/src/styleguide.md#" title="Edit source on GitHub"><span class="docs-icon fa-solid">ÔÅÑ</span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Style-guide"><a class="docs-heading-anchor" href="#Style-guide">Style guide</a><a id="Style-guide-1"></a><a class="docs-heading-anchor-permalink" href="#Style-guide" title="Permalink"></a></h1><p>Coding style is an inherently personal - and thus hotly contested - issue. Since code is usually &quot;written once, read often&quot;, it helps regular developers, new users, and reviewers if code is formatted consistently. We therefore believe in the merit of using a common coding style throughout TrixiShallowWater.jl, even at the expense that not everyone can be happy with every detailed style decision. If you came here because you are furious about our code formatting rules, here is a happy little whale for you to calm you down: üê≥</p><h2 id="Conventions"><a class="docs-heading-anchor" href="#Conventions">Conventions</a><a id="Conventions-1"></a><a class="docs-heading-anchor-permalink" href="#Conventions" title="Permalink"></a></h2><p>The following lists a few coding conventions for TrixiShallowWater.jl. Note that in addition to these conventions, we apply and enforce automated source code formatting (see <a href="#automated-source-code-formatting">below</a> for more details):</p><ul><li>Modules, types, structs with <code>CamelCase</code>.</li><li>Functions, variables with lowercase <code>snake_case</code>.</li><li>Indentation with 4 spaces (<em>never</em> tabs!)</li><li>Maximum line length (strictly): <strong>92</strong>.</li><li>Functions that mutate their <em>input</em> are named with a trailing <code>!</code>.</li><li>Functions order their parameters <a href="https://docs.julialang.org/en/v1/manual/style-guide/#Write-functions-with-argument-ordering-similar-to-Julia-Base-1">similar to Julia Base</a>.<ul><li>The main modified argument comes first. For example, if the right-hand side <code>du</code> is modified, it should come first. If only the <code>cache</code> is modified, e.g., in <code>prolong2interfaces!</code> and its siblings, put the <code>cache</code> first.</li><li>Otherwise, use the order <code>mesh, equations, solver, cache</code>.</li><li>If something needs to be specified in more detail for dispatch, put the additional argument before the general one that is specified in more detail. For example, we use <code>have_nonconservative_terms(equations), equations</code> and <code>dg.mortar, dg</code>.</li></ul></li><li>Prefer <code>for i in ...</code> to <code>for i = ...</code> for better semantic clarity and greater flexibility.</li><li>Executable code should only use ASCII characters.</li><li>Docstrings and comments can and should use Unicode characters where it helps understanding.</li><li>Multiline expressions should be explicitly grouped by parentheses and not rely on Julia&#39;s implicit line continuation syntax.</li><li>When naming multiple functions of a single or similar category, prefer to put the <em>general classification</em> first and the <em>specialization</em> second. Example: Use <code>flux_central</code> instead of <code>central_flux</code>. This helps when searching for available functions on the REPL (e.g., when trying to find all flux functions).</li></ul><h2 id="automated-source-code-formatting"><a class="docs-heading-anchor" href="#automated-source-code-formatting">Automated source code formatting</a><a id="automated-source-code-formatting-1"></a><a class="docs-heading-anchor-permalink" href="#automated-source-code-formatting" title="Permalink"></a></h2><p>We use <a href="https://github.com/domluna/JuliaFormatter.jl">JuliaFormatter.jl</a> to format the source code of TrixiShallowWater.jl, which will also enforce <em>some</em> of the <a href="#Conventions">Conventions</a> listed above (e.g., line length or indentation with 4 spaces are automatically handled, while capitalization of names is not). Our format is mostly based on the <a href="https://domluna.github.io/JuliaFormatter.jl/stable/sciml_style/">SciML</a>-style formatting rules. For more details you can have a look at the current <a href="https://github.com/trixi-framework/TrixiShallowWater.jl/blob/main/.JuliaFormatter.toml"><code>.JuliaFormatter.toml</code></a> file that holds the configuration options we use for JuliaFormatter.jl.</p><p>Note that we expect all contributions to TrixiShallowWater.jl to be formatted with JuliaFormatter.jl before being merged to the <code>main</code> branch. We ensure this by running a automated check on all PRs that verify that running JuliaFormatter.jl again will not change the source code.</p><p>To format your contributions before created a PR (or, at least, before requesting a review of your PR), you need to install JuliaFormatter.jl first by running</p><pre><code class="language-shell hljs">julia -e &#39;using Pkg; Pkg.add(PackageSpec(name = &quot;JuliaFormatter&quot;, version=&quot;1.0.60&quot;))&#39;</code></pre><p>You can then recursively format the core Julia files in the TrixiShallowWater.jl repo by executing</p><pre><code class="language-shell hljs">julia -e &#39;using JuliaFormatter; format(&quot;.&quot;)&#39;</code></pre><p>from inside the TrixiShallowWater.jl repository. For convenience, there is also a script you can directly run from your terminal shell, which will automatically install JuliaFormatter in a temporary environment and then run it:</p><pre><code class="language-shell hljs">utils/trixisw-format.jl</code></pre><p>You can get more information about using the convenience script by running it with the <code>--help</code>/<code>-h</code> flag. There is an additional script to format individual files that can be run from the terminal shell</p><pre><code class="language-shell hljs">utils/trixisw-format-file.jl path/to/file.jl</code></pre><h3 id="Checking-formatting-before-committing"><a class="docs-heading-anchor" href="#Checking-formatting-before-committing">Checking formatting before committing</a><a id="Checking-formatting-before-committing-1"></a><a class="docs-heading-anchor-permalink" href="#Checking-formatting-before-committing" title="Permalink"></a></h3><p>It can be convenient to check the formatting of source code automatically before each commit. We use git-hooks for it and provide a <code>pre-commit</code> script in the <code>utils</code> folder. The script uses <a href="https://github.com/domluna/JuliaFormatter.jl">JuliaFormatter.jl</a> just like formatting script that runs over the whole TrixiShallowWater.jl directory. You can copy the <code>pre-commit</code>-script into <code>.git/hooks/pre-commit</code> and it will check your formatting before each commit. If errors are found the commit is aborted and you can add the corrections via</p><pre><code class="language-shell hljs">git add -p</code></pre></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../development/">¬´ Development</a><a class="docs-footer-nextpage" href="../testing/">Testing ¬ª</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.11.4 on <span class="colophon-date" title="Wednesday 28 May 2025 08:46">Wednesday 28 May 2025</span>. Using Julia version 1.10.9.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
